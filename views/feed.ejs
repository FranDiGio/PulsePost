<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>PulsePost</title>
		<link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
		<link href="/styles/global.css" rel="stylesheet" />
		<link href="/styles/list-hover.css" rel="stylesheet" />
		<link href="/styles/feed.css" rel="stylesheet" />
		<link href="/styles/background.css" rel="stylesheet" />
	</head>

	<body class="bg-light">
		<%- include('partials/navbars/navbar-user.ejs') %>

		<div class="container-fluid">
			<div class="row d-flex justify-content-center">
				<!-- Left sidebar -->
				<div
					class="d-none d-lg-flex col-2 col-custom-3 bg-light ps-4 pt-3 border-end d-flex justify-content-end fixed-sidebar-left"
				>
					<div class="col-12 col-custom-8">
						<h2
							class="sticky-top bg-light open-sans-title text-muted border-bottom border-2 fs-4 pb-2 pt-4"
							id="posts-title"
						>
							Latest
						</h2>

						<ul class="list-unstyled fw-normal pb-2 small mt-3">
							<li>
								<a href="/feed/" class="d-block list-item rounded p-2 mb-2 fs-6">Echoes of Silence</a>
							</li>
							<li>
								<a href="/feed/" class="d-block list-item rounded p-2 mb-2 fs-6">Beyond the Horizon</a>
							</li>
							<li>
								<a href="/feed/" class="d-block list-item rounded p-2 mb-2 fs-6">
									The Art of Unlearning
								</a>
							</li>
						</ul>
					</div>
				</div>

				<!-- Main content -->
				<div class="col-12 col-lg-8 col-custom-6 bg-light mb-5">
					<div class="d-flex flex-nowrap pt-4 mb-2">
						<div class="col-2 col-lg-3 d-inline-flex justify-content-end align-items-start me-4">
							<div class="d-flex flex-nowrap dropdown-center border rounded-5 bg-light px-2 py-1">
								<p class="d-xl-block d-none mx-2 my-2"><%= username %></p>
								<a
									class="d-block link-body-emphasis text-decoration-none"
									role="button"
									data-bs-toggle="dropdown"
								>
									<img
										src="<%= userPictureUrl %>"
										width="40"
										height="40"
										alt="profile-picture"
										class="rounded-circle"
									/>
								</a>
							</div>
						</div>
						<div
							class="col-8 fake-input-bar bg-white border rounded px-3 py-2 mt-1 mb-4 d-flex align-items-center"
							data-bs-toggle="modal"
							data-bs-target="#postModal"
							role="button"
						>
							<span class="text-muted">What's on your mind today?</span>
						</div>
					</div>

					<% if (locals.posts) { %><%- include('partials/posts/feed-posts.ejs') %><% } %>
				</div>

				<!-- Right sidebar -->
				<div
					class="d-none d-lg-flex col-2 col-custom-3 bg-light ps-4 pt-3 border-start d-flex justify-content-start fixed-sidebar-right"
				>
					<div class="col-12 col-custom-8">
						<h2
							class="sticky-top bg-light open-sans-title text-muted border-bottom border-2 fs-4 pb-2 pt-4"
							id="creators-title"
						>
							Following
						</h2>

						<ul class="list-unstyled fw-normal pb-2 small mt-3">
							<li>
								<a href="/signup/" class="d-block list-item rounded p-2 mb-2 fs-6">RandomOne</a>
							</li>
							<li>
								<a href="/login/" class="d-block list-item rounded p-2 mb-2 fs-6">RandomTwo</a>
							</li>
							<li>
								<a href="/about/" class="d-block list-item rounded p-2 mb-2 fs-6">RandomThree</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<!-- Create Post Modal -->
		<%- include('partials/posts/create-post.ejs') %>
		<!-- Main Settings Modal -->
		<%- include('partials/settings-modals/main-settings.ejs') %>
		<!-- Profile Picture Settings Modal -->
		<%- include('partials/settings-modals/picture-settings.ejs') %>
		<!-- Profile Background Settings Modal -->
		<%- include('partials/settings-modals/background-settings.ejs') %>
		<!-- Biography Settings Modal -->
		<%- include('partials/settings-modals/biography-settings.ejs') %>
		<!-- Password Settings Modal -->
		<%- include('partials/settings-modals/password-settings.ejs') %>
		<!-- Account Settings Modal -->
		<%- include('partials/settings-modals/account-settings.ejs') %>
		<!-- Unfollow Confirmation Modal -->
		<%- include('partials/misc/unfollow.ejs') %>

		<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
			crossorigin="anonymous"
		></script>
		<script src="/js/handlers/posts/create.js" charset="utf-8"></script>
		<script src="/js/handlers/posts/like.js" charset="utf-8"></script>
		<script src="/js/handlers/users/feed-follow.js" charset="utf-8"></script>
		<script src="/js/handlers/users/sign-out.js" charset="utf-8"></script>
		<script src="/js/ui/misc.js" charset="utf-8"></script>
		<script src="/js/ui/char-count.js" charset="utf-8"></script>
		<script src="/js/ui/date-format.js" charset="utf-8"></script>
		<script src="/js/ui/tooltips.js" charset="utf-8"></script>
		<script src="/js/ui/toggle-post-content.js" charset="utf-8"></script>
		<script src="/js/ui/toggle-post-tabs.js" charset="utf-8"></script>
		<script src="/js/handlers/settings/profile-picture.js" charset="utf-8"></script>
		<script src="/js/handlers/settings/background.js" charset="utf-8"></script>
		<script src="/js/handlers/settings/biography.js" charset="utf-8"></script>
		<script src="/js/handlers/settings/password.js" charset="utf-8"></script>
		<script src="/js/handlers/settings/account.js" charset="utf-8"></script>
	</body>
</html>
