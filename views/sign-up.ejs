<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="/styles/account-forms.css" rel="stylesheet">
    <link href="/styles/backgrounds.css" rel="stylesheet">
</head>

<body class="vh-100">
    <div class="container-fluid h-100 d-flex align-items-center gradient-background-light">
        <div class="container w-50 d-flex justify-content-center">
            <div class="row custom-form-container">

                <% if (success === false) { %>
                    
                    <div class="d-lg-flex d-none col-5 p-0">
                        <img class="img-fluid shadow" id="left-panel" src="/images/sign-up-art.png" alt="art">
                    </div>

                    <div class="d-flex col-12 col-lg-7 bg-light p-5 shadow" id="right-panel">
                        <form class="w-100" action="/api/signup" method="POST">

                            <a href="/"><img class="mb-4" src="/images/logo.png" alt="logo" style="max-height: 60px;"></a>
                            <h3>Sign up and start posting!</h3>
                            
                            <div class="form-floating my-4 w-100">
                                <input class="form-control w-100 <%= invalidUsername ? 'is-invalid' : '' %>" 
                                    placeholder="Username" name="username" 
                                    value="<%= locals.username ? username : '' %>" data-bs-toggle="tooltip" 
                                    data-bs-placement="right" data-bs-title="Username already exists">
                                <label for="floatingInput">Username</label>
                            </div>
                            <hr>

                            <div class="form-floating mt-4 w-100">
                                <input class="form-control w-100 <%= invalidEmail ? 'is-invalid' : '' %>" 
                                    id="floatingEmail" type="email" placeholder="Email address" 
                                    value="<%= locals.email ? email : '' %>" name="email" data-bs-toggle="tooltip" 
                                    data-bs-placement="right" data-bs-title="Email is already registered with another account">
                                <label for="floatingEmail">Email Address</label>
                            </div>

                            <div class="form-floating mb-4 w-100">
                                <input class="form-control w-100 <%= invalidPassword ? 'is-invalid' : '' %>" 
                                    id="floatingPassword" type="password" placeholder="Password" name="password" 
                                    data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Password should be at least 6 characters long">
                                <label for="floatingPassword">Password</label>
                            </div>
                            
                            <button class="btn btn-primary" type="submit">Sign In</button>
                        </form>
                    </div>

                <% } else { %>

                    <div class="d-flex col-12 p-5 h-50 shadow justify-content-center background-green" id="top-panel">
                        <p>
                            <img class="pb-5" height="150px" src="/svg/checkmark.svg">
                            <h2 class="ms-4 text-light align-self-center">Success!</h2>
                        </p>
                    </div>

                    <div class="d-flex flex-column col-12 bg-light pt-4 px-5 h-50 align-items-center shadow" id="bottom-panel">
                        <h4>Your account has been successfully created</h4>
                        <a type="button" href="/feed/" class="btn btn-primary btn-lg mt-5 shadow">Continue</a>
                    </div>

                <% } %>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="/js/panel-resize.js" charset="utf-8"></script>
    <script src="/js/tooltip.js" charset="utf-8"></script>
</body>

